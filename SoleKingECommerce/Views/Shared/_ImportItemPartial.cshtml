@model SoleKingECommerce.ViewModels.Import.ImportItemViewModel
@{
    var index = ViewBag.ItemIndex ?? 0;
}

<div class="product-item card mb-3" data-index="@index">
    <div class="card-header bg-light d-flex justify-content-between align-items-center">
        <h6 class="mb-0">Sản phẩm #<span class="product-number">@(index + 1)</span></h6>
        <button type="button" class="btn btn-sm btn-danger remove-item-btn">
            <i class="fas fa-trash"></i> Xóa
        </button>
    </div>
    <div class="card-body">
        <div class="row g-3">
            <!-- Row 1: Product Info -->
            <div class="col-md-5">
                <label class="form-label small fw-bold" for="Items_@(index)__ProductName">
                    <i class="fas fa-cube me-1"></i>Tên sản phẩm
                </label>
                <input name="Items[@index].ProductName" id="Items_@(index)__ProductName" type="text" class="form-control form-control-sm"
                       value="@Model.ProductName" placeholder="Nhập tên sản phẩm" />
            </div>
            <div class="col-md-3">
                <label class="form-label small fw-bold" for="Items_@(index)__Brand">
                    <i class="fas fa-tag me-1"></i>Thương hiệu
                </label>
                <input name="Items[@index].Brand" id="Items_@(index)__Brand" type="text" class="form-control form-control-sm"
                       value="@Model.Brand" placeholder="Thương hiệu" />
            </div>
            <div class="col-md-4">
                <label class="form-label small fw-bold" for="Items_@(index)__CategoryId">
                    <i class="fas fa-layer-group me-1"></i>Danh mục
                </label>
                <select name="Items[@index].CategoryId" id="Items_@(index)__CategoryId" class="form-select form-select-sm">
                    <option value="">-- Chọn --</option>
                    @foreach (var category in ViewBag.Categories as IEnumerable<SoleKingECommerce.Models.Category>)
                    {
                        <option value="@category.Id" selected="@(Model.CategoryId == category.Id ? "selected" : null)">
                            @category.Name
                        </option>
                    }
                </select>
            </div>

            <!-- Row 2: Specifications -->
            <div class="col-md-3">
                <label class="form-label small fw-bold" for="Items_@(index)__ColorId">
                    <i class="fas fa-palette me-1"></i>Màu sắc
                </label>
                <select name="Items[@index].ColorId" id="Items_@(index)__ColorId" class="form-select form-select-sm">
                    <option value="">-- Chọn --</option>
                    @foreach (var color in ViewBag.Colors as IEnumerable<SoleKingECommerce.Models.Color>)
                    {
                        <option value="@color.Id" selected="@(Model.ColorId == color.Id ? "selected" : null)">
                            @color.Name
                        </option>
                    }
                </select>
            </div>
            <div class="col-md-2">
                <label class="form-label small fw-bold" for="Items_@(index)__Size">
                    <i class="fas fa-ruler me-1"></i>Size
                </label>
                <input name="Items[@index].Size" id="Items_@(index)__Size" type="text" class="form-control form-control-sm"
                       value="@Model.Size" placeholder="Size" />
            </div>
            <div class="col-md-2">
                <label class="form-label small fw-bold" for="Items_@(index)__Quantity">
                    <i class="fas fa-boxes me-1"></i>Số lượng
                </label>
                <input name="Items[@index].Quantity" id="Items_@(index)__Quantity" type="number" class="form-control form-control-sm quantity-input"
                       value="@Model.Quantity" min="1" placeholder="0" />
            </div>

            <!-- Row 3: Pricing -->
            <div class="col-md-3">
                <label class="form-label small fw-bold" for="Items_@(index)__ImportPrice">
                    <i class="fas fa-money-bill-wave me-1"></i>Giá nhập
                </label>
                <div class="input-group input-group-sm">
                    <input name="Items[@index].ImportPrice" id="Items_@(index)__ImportPrice" type="number" class="form-control price-input"
                           value="@Model.ImportPrice" step="0.01" min="0" placeholder="0" />
                    <span class="input-group-text">đ</span>
                </div>
            </div>
            <div class="col-md-2">
                <label class="form-label small fw-bold" for="Items_@(index)__SellPrice">
                    <i class="fas fa-tags me-1"></i>Giá bán
                </label>
                <div class="input-group input-group-sm">
                    <input name="Items[@index].SellPrice" id="Items_@(index)__SellPrice" type="number" class="form-control"
                           value="@Model.SellPrice" step="0.01" min="0" placeholder="0" />
                    <span class="input-group-text">đ</span>
                </div>
            </div>

            <!-- Row 4: Description -->
            <div class="col-md-12">
                <label class="form-label small fw-bold" for="Items_@(index)__Description">
                    <i class="fas fa-align-left me-1"></i>Mô tả
                </label>
                <textarea name="Items[@index].Description" id="Items_@(index)__Description" class="form-control form-control-sm"
                          rows="2" placeholder="Mô tả sản phẩm">@Model.Description</textarea>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-md-12 text-end">
                <div class="item-total-box">
                    <span class="me-2 small">Thành tiền:</span>
                    <span class="item-total fw-bold text-primary">0đ</span>
                </div>
            </div>
        </div>
    </div>
</div>